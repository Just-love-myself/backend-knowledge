# Strategic Design

## 전략적 설계 (Strategic Design)

도메인 주도 설계는 크게 **전략적 설계**와 **전술적 설계**로 나눌 수 있는데, \
비즈니스의 성공을 위해 전략적 설계는 대단히 중요하다.&#x20;

전략적 설계는 **전술적 설계의 선행조건**이기도 하다.

전략적 설계는 다음과 같은 패턴을 다룬다:

1. Ubiquitous Language
2. Bounded Context
3. Subdomain

### 보편 언어 (Ubiquitous Language)

모두가 하나의 언어(어휘 모음)를 사용하라는 뜻이다.

DDD의 시작이자 끝, 전부라고 말해도 과언이 아니다.\
사실 Bounded Context와 SubDomain이 이를 지원하기 위해 존재하는 거다.

* 도메인 전문가, 비즈니스 분석가, 소프트웨어 설계자, 프로그래머 등은 모두 같은 언어를 사용한다.&#x20;
* 도메인 전문가가 쓰는 어휘에 끌려가야 한다는 의미가 아니라, 비즈니스 도메인을 적절하게 다룰 수 있는 용어를 함께 만들어서 코드를 작성할 때도 사용해야 한다는 의미다.&#x20;
* 즉, 설계하기 어렵거나 코딩하기 어려운 어휘 체계는 재검토가 필요하다.&#x20;
* ex) 클래스, 메소드, 모듈의 이름을 도메인에서 통용되는 어휘를 기본으로 사용하되, \
  기술적 제약이나 혼동될만한 어휘는 조율해서 선택하자.

### 제한된 컨텍스트 (Bounded Context)

참고 링크 : [Bounded Context](https://jaehoney.tistory.com/252)

정말로 커다란 시스템을 만든다면, 하나의 어휘가 다양한 의미로 쓰일 위험이 있다. \
예를 들어 Account는 어떤 경우에는 사용자의 계정을 의미하지만, 어떤 경우에는 은행의 통장을 의미한다. 그렇다고 UserAccount, BankAccount 등으로 나눠서 쓰기 시작하면 접두어 내지는 접미어가 넘쳐나는 상황에 직면하게 된다. 대화할 때 비용이 증가하게 되는 거다.

> “지난 번에 이야기한 Account 있잖아요?” “어떤 Account요?” “ㅇㅇ은행이랑 거래하는 기능 만들면서 추가한 Account요.” “아, 은행이랑 거래하는 맥락에서 이야기하려는 거죠?”

우리는 맥락을 좁힘으로써 **하나의 어휘가 하나의 대상**을 지시하는 이상적인 상황을 만들 수 있다.&#x20;

따라서 우리는 하나의 시스템을 잘 조직화된 Bounded Context로 나눔으로써 보편 언어를 잘 만들고 유지할 것이다.

바운디드 컨텍스트는 모델의 경계를 결정하며 **한 개의 바운디드 컨텍스트**는 **논리적으로 한 개의 모델**을 갖는다.

바운디드 컨텍스트에서 개발할 때 주의할 점은 모델이 섞이지 않도록 하는 것이다. \
바운디드 컨텍스트는 서로 다른 패키지에서 개발하고 서로의 영역이 명확해야 한다.

&#x20;아래의 예시를 보자.

<figure><img src="https://blog.kakaocdn.net/dn/P0g6Y/btrHCnAd1pe/85wbYZ1kMYNqrkzqv8tRe0/img.png" alt=""><figcaption></figcaption></figure>

카탈로그의 Product는 상품이 속할 Category와 연관을 갖지만 재고의 Product는 카탈로그의 Category와 연관을 맺지 않는다. 즉, 각자의 바운디드 컨텍스트에 있는 Product 엔터티는 개념이 서로 다르다.

마찬가지로 회원에 있는 Member는 비밀번호 수정이나 프로필 관리 등을 할 수 있을 것이다. 주문 바운디드 컨텍스트에서는 Member 대신 Orderer라는 엔터티를 사용하는데 Orderer는 비밀번호 수정이나 프로필 관리를 할 수 없다. Member와 Orderer는 모두 DB의 Member 테이블을 표현하지만 제공하는 기능이 서로 다르다.

### 하위 도메인 (Subdomain)

* 시스템을 나누는데 Bounded Context라는 단위를 사용한다면, 도메인을 나눌 땐 Subdomain이라는 단위를 사용한다.&#x20;
* 전자는 소프트웨어를 조직화하는 방법이라면, 후자는 현실을 조직화하는 방법이다.&#x20;
* 전자는 개발하면서 발전시킬 수 있지만, 후자는 개발하면서 맞춰나가야 한다.

하위 도메인을 나누는 이유는?

집중을 어디에 해야 더 많은 비즈니스 가치를 얻을 수 있는가? -> 코어 도메인, 핵심 도메인

이렇듯 하위 도메인을 나눔으로써, 집중해야할 도메인을 분리해낼 수 있다.
